<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>html5 cropper插件  图片裁剪上传</title>
	<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
	<link rel="stylesheet" href="cropper.css">
	<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.3.6/cropper.css"> -->
</head>
<body>
	<div id="box">
		<img src="http://c.hiphotos.baidu.com/image/h%3D300/sign=50ca98bc00d79123ffe092749d355917/48540923dd54564e08122c8dbfde9c82d1584f0b.jpg" alt="" id="image">
		<img src="img.jpg" alt="" id="image1">
		<!-- <img src="img.jpg" id="image"> --><!--报错-->
	</div>
	<script src="cropper.js"></script>
	<script src="jquery-cropper.js"></script>
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.3.6/cropper.js"></script> -->
	<script>		
		$('#image').cropper({
			aspectRatio:16/16,
			viewMode:1,
			background:false,
			checkImageOrigin:true,
			modal:false,
			autoCropArea:0.8,
			dragCrop:false,
			movable:true,
			resizable:false,
			zoomable:false,
			mouseWheelZoom:true,			
			ready:function(e){
				console.log('ready:',e);
			},
			cropmove: function (e) {
            	console.log("cropmove");
            	console.log('cropmove event.action',e.action);
	        },
	        cropend: function (e) {
	            console.log("cropend");
	            // $("#image").cropper('rotate', 90);
	            console.log('cropend getCroppedCanvas:',$("#image").cropper("getCroppedCanvas").toDataURL('http://c.hiphotos.baidu.com/image/h%3D300/sign=50ca98bc00d79123ffe092749d355917/48540923dd54564e08122c8dbfde9c82d1584f0b.jpg',1.0));
	            $('#image1').attr('src',$("#image").cropper("getCroppedCanvas").toDataURL('http://c.hiphotos.baidu.com/image/h%3D300/sign=50ca98bc00d79123ffe092749d355917/48540923dd54564e08122c8dbfde9c82d1584f0b.jpg',1.0)); 
	        },
	        crop: function (e) {
	            console.log("crop");

	            // e.scale='-1'
	            // $(this).cropper('scale', -1); // 水平、垂直方向翻转
	        },
	        zoom: function (e) {
	            console.log("zoom");
	        },
			cropstart:function(e){
				console.log('cropstart',e);
				console.log('cropstart event.type',e.type);
				// console.log('cropstart event.action',e.action);
			}
		});
		// $('#image').cropper('movie',100,100)
		// $('#image').cropper('rotate',-90)
		// $('#image').on('cropstart',function(e){
		// 	console.log('e.action:',e.action);
		// })
		// console.log($('#image').cropper('getCroppedCanvas'));

	</script>
</body>
</html>